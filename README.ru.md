# envgen

**`envgen` ‚Äì –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ YAML**  

–°–æ–∑–¥–∞—ë—Ç —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ Go-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, `.env.example`, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —à–∞–±–ª–æ–Ω–∞–º

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- üîí **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –∫–æ–¥–æ–º
- üé® **–õ—é–±–æ–π —à–∞–±–ª–æ–Ω**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤
- üõ† **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏
- üìù **–ê–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Markdown-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- üîç **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –ü–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ YAML-—Ñ–æ—Ä–º–∞—Ç–µ

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:
  - Go-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å —Ç–µ–≥–∞–º–∏ `env`
  - –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env.example`)
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —à–∞–±–ª–æ–Ω—ã
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
go install github.com/safeblock-dev/envgen/cmd/envgen@latest
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `config.yaml`:
```yaml
# –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Go-–ø–∞–∫–µ—Ç–∞
options:
  go_package: config  # –ò–º—è –ø–∞–∫–µ—Ç–∞ –¥–ª—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞

types:
  - name: Environment
    type: string
    description: –û–∫—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (development, staging, production)
    values:
      - development
      - staging
      - production

groups:
  - name: Server
    description: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
    prefix: SERVER_  # –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
    fields:
      - name: Port
        type: int
        description: –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
        default: "8080"
        required: true
        example: "9000"
      
      - name: Host
        type: string
        description: –•–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞
        default: "localhost"
        example: "0.0.0.0"
      
      - name: ENV
        type: Environment
        description: –û–∫—Ä—É–∂–µ–Ω–∏–µ
        default: "development"
        example: "production"
```

2. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ Go-–∫–æ–¥:
```bash
envgen gen -c config.yaml -o config.go -t go-env
```

### –ö–æ–º–∞–Ω–¥—ã

`envgen` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

- `gen` (–∏–ª–∏ `generate`): –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - `-c, --config`: –ü—É—Ç—å –∫ –≤—Ö–æ–¥–Ω–æ–º—É YAML-—Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
  - `-o, --out`: –ü—É—Ç—å –∫ –≤—ã—Ö–æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
  - `-t, --template`: –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —à–∞–±–ª–æ–Ω–∞ –∏–ª–∏ URL (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
  - `--ignore-types`: –°–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
  - `--ignore-groups`: –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

- `ls` (–∏–ª–∏ `templates`, `list`): –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤

- `version`: –ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é –ø—Ä–æ–≥—Ä–∞–º–º—ã

–ü—Ä–∏–º–µ—Ä—ã:
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞
envgen gen -c config.yaml -o config.go -t ./templates/config.tmpl

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —à–∞–±–ª–æ–Ω–∞ –∏–∑ URL
envgen gen --config config.yaml --out config.go --template https://raw.githubusercontent.com/user/repo/template.tmpl

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏ –≥—Ä—É–ø–ø
envgen gen -c config.yaml -o config.go -t ./templates/config.tmpl --ignore-types Duration,URL --ignore-groups Database

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
envgen ls

# –ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é
envgen version

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Go-—Å—Ç—Ä—É–∫—Ç—É—Ä
envgen gen -c config.yaml -o config.go -t go-env

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–∞ .env —Ñ–∞–π–ª–∞
envgen gen -c config.yaml -o .env.example -t example

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
envgen gen -c config.yaml -o config.md -t markdown
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `config.go` —Å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `SERVER_` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SERVER_PORT`, `SERVER_HOST`, `SERVER_ENV`).

## –§–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –û–ø—Ü–∏–∏

–û–ø—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —à–∞–±–ª–æ–Ω–µ. –î–ª—è —Ä–∞–∑–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ –æ–ø—Ü–∏–∏.

```yaml
options:
  go_package: mypkg
```

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∫–∞–∑–∞–Ω–∞ –æ–ø—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏–º—è –ø–∞–∫–µ—Ç–∞ –¥–ª—è `go-env` —à–∞–±–ª–æ–Ω–∞. –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –æ–ø—Ü–∏–∏ –≤ –≥—Ä—É–ø–ø–µ (`group`) –∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ–ª–µ (`field`).

### –ì—Ä—É–ø–ø—ã

–ì—Ä—É–ø–ø—ã –æ—Ä–≥–∞–Ω–∏–∑—É—é—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```yaml
groups:
  - name: Database     # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ: –∏–º—è –≥—Ä—É–ø–ø—ã
    description: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –æ–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
    prefix: DB_         # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
    options:            # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥—Ä—É–ø–ø—ã
      go_name: DBConfig # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –ª—é–±–∞—è –æ–ø—Ü–∏—è –¥–ª—è —à–∞–±–ª–æ–Ω–∞
    fields:             # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –ø–æ–ª–µ
      - name: Host
        type: string
        description: –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        required: true
        default: localhost
```

### –ü–æ–ª—è

–ü–æ–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```yaml
fields:
  - name: URL                   # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ: –∏–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
    type: string                # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ: —Ç–∏–ø –ø–æ–ª—è (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π)
    description: API endpoint   # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª—è
    default: "http://127.0.0.1" # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    required: true              # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º
    example: "http://test.com"  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –ø—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
    options:                    # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ª—è
      go_name: "GitURL"         # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –ª—é–±–∞—è –æ–ø—Ü–∏—è –¥–ª—è —à–∞–±–ª–æ–Ω–∞
```

### –¢–∏–ø—ã

–¢–∏–ø—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã, –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫ —Ç–∏–ø—É –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö:

```yaml
types:
  - name: Duration        # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ: –∏–º—è —Ç–∏–ø–∞ –¥–ª—è —Å—Å—ã–ª–æ–∫ –≤ –ø–æ–ª—è—Ö
    type: time.Duration   # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π)
    import: time          # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –ø—É—Ç—å –∏–º–ø–æ—Ä—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∏–ø–æ–≤
    description: –ò–Ω—Ç–µ—Ä–≤–∞–ª # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞
    values:               # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
      - 1s
      - 1m
```

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ö–æ–∂–∏—Ö —Ç–∏–ø–æ–≤:

```yaml
types:
  - name: AppENV
    type: string
    description: –ò–º—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
    values: ["prod", "dev"]
  - name: MediaURL
    type: string
    description: –°—Å—ã–ª–∫–∞ –Ω–∞ media –∏—Å—Ç–æ—á–Ω–∏–∫
```

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã, –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏—Ö –∏–º—è (`name`) –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞ (`type`) –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –ø–æ–ª—è (`field`):

```yaml
fields:
  - name: Github                  
    type: AppURL                # –£–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è type
    example: "http://github.com/safeblock-dev" 
  - name: twitter                  
    type: AppURL                # –¢–∏–ø –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
    example: "http://x.com/safeblock" 
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í—ã –º–æ–∂–µ—Ç–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –∏ –≥—Ä—É–ø–ø—ã –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

```yaml
groups:
  - name: Postgres
    description: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL
    prefix: PG_
    fields:
      - name: Host
        type: string
        default: localhost

  - name: Redis
    description: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Redis
    prefix: REDIS_
    fields:
      - name: Port
        type: int
        default: "6379"

  - name: Webserver
    description: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
    fields:
      - name: DB
        type: Postgres
      - name: Cache
        type: Redis
```

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö:
```bash
envgen gen -c config.yaml -o config.go -t go-env --ignore-groups Webserver
```

–≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ —É –≤–∞—Å –µ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `.env.example`.

### –®–∞–±–ª–æ–Ω—ã

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–∞:

- `go-env`: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Go-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å —Ç–µ–≥–∞–º–∏ `env`
- `go-env-example`: –°–æ–∑–¥–∞–µ—Ç `.env.example` —à–∞–±–ª–æ–Ω—ã —Å —É—á–µ—Ç–æ–º `go-env` —Ç–µ–≥–æ–≤ (–æ–ø—Ü–∏–π)
- `example`: –°–æ–∑–¥–∞–µ—Ç `.env.example` —à–∞–±–ª–æ–Ω—ã
- `markdown`: –°–æ–∑–¥–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤:

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Go-—Å—Ç—Ä—É–∫—Ç—É—Ä
envgen -c config.yaml -o config.go -t go-env

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–∞ .env —Ñ–∞–π–ª–∞
envgen -c config.yaml -o .env.example -t example

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
envgen -c config.yaml -o config.md -t markdown
```

### –û–ø—Ü–∏–∏ Go-—à–∞–±–ª–æ–Ω–∞

–®–∞–±–ª–æ–Ω `go-env` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏:

```yaml
options:
  go_package: config # –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
  go_meta: |
    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    {{ goCommentGenerate "" "" "" }}
    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
    {{ goCommentGenerate "" "docs/README.md" "../../templates/markdown" }}
    // –í–µ—Ä—Å–∏—è: v0.1.2
```

–ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ `go_package` –Ω–µ —É–∫–∞–∑–∞–Ω–æ, `envgen` –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º—è –ø–∞–ø–∫–∏ –∏–∑ —Ñ–ª–∞–≥–∞ `out`.

–û–ø—Ü–∏—è `go_meta` –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞. –ï—Å–ª–∏ —ç—Ç–∞ –æ–ø—Ü–∏—è –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –±—ã–ª –≤—ã–≤–æ–¥ `//go:generate`, –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–µ `go_meta` –ø—É—Å—Ç—ã–º.

–û–ø—Ü–∏—è `go_meta` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ª—é–±—ã–µ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞ [funcs.go](pkg/envgen/funcs.go) (–Ω–∞–ø—Ä–∏–º–µ—Ä `title`, `upper` –∏ —Ç.–ø.).

–¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–º–µ–Ω–∏ –¥–ª—è –≥—Ä—É–ø–ø (`groups`) –∏ –ø–æ–ª–µ–π (`fields`):

```yaml
groups:
  - name: App
    description: Application settings
    options:
      go_name: CustomAppConfig
    fields:
      - name: DebugMode
        type: bool
        description: Enable debug mode
        options:
          go_name: IsDebug
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```go
// –ò–º—è App –∏–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ CustomAppConfig
type CustomAppConfig struct {
   // –ò–º—è DebugMode (debug_mode –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏) –∏–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ IsDebug
	IsDebug bool `env:"DEBUG_MODE" envDefault:"false"`
}
```

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–≥–æ–≤ `env` –¥–ª—è –≥—Ä—É–ø–ø –∏ –ø–æ–ª–µ–π:

- `go_skip_env_tag` - –æ—Ç–∫–ª—é—á–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ–≥–∞ `env`

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```yaml
  - name: NoEnvTag
    description: –ì—Ä—É–ø–ø–∞ –±–µ–∑ —Ç–µ–≥–æ–≤ env
    options:
      go_skip_env_tag: true
    fields:
      - name: Sentry
        type: SentryConfig
      - name: GRPC_Port
        type: int
        default: "8002"
      - name: HTTP_Port
        type: int
        default: "8001"
        options:
          go_name: HttpPort
          go_tags: env:"NOT_SKIPPED"
    
  - name: CustomEnvTags
    description: –í—ã–±–æ—Ä–æ—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–≥–æ–≤ env
    fields:
      - name: NotSkipped
        type: string
      - name: debug
        type: bool
        options:
          go_skip_env_tag: true
      - name: Port
        type: int
        options:
          go_skip_env_tag: true
          go_env_options: will_be_ignored
          go_tags: env:"NOT_SKIPPED,required,notEmpty"
```

–æ–ø—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª–µ–π:

- `go_include` - –µ—Å–ª–∏ true, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä Go (struct embedding)
- `go_env_options` - –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ –≤ —Ç–µ–≥ `env`. –ù–∞–ø—Ä–∏–º–µ—Ä: `file`, `unset`, `notEmpty` –∏ –¥—Ä—É–≥–∏–µ –æ–ø—Ü–∏–∏. –í—Å–µ –æ–ø—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ —Ç–µ–≥–∏ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
- `go_tags` - –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–≥–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–∫–∞–∑–∞–Ω–∏–µ –ª—é–±—ã—Ö —Ç–µ–≥–æ–≤ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å –ø–∞–∫–µ—Ç–æ–º [`env`](github.com/caarlos0/env/v11) —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
  - `envSeparator` - —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–ª—è —Å–ª–∞–π—Å–æ–≤
  - `envKeyValSeparator` - —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–ª—è –∫–ª—é—á–µ–π –∏ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –º–∞–ø–∞—Ö

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```yaml
groups:
  - name: Webserver
    fields:
      - name: Config
        type: Config
        options:
          go_skip_env_tag: true
          go_include: true # –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

      - name: ApiKey
        type: string
        description: API –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω –ø–æ—Å–ª–µ —á—Ç–µ–Ω–∏—è
        required: true
        options:
          go_env_options: unset,notEmpty  # –û—á–∏—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ —á—Ç–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—É—Å—Ç–æ—Ç—É
        example: "secret-key"

      - name: Tags
        type: "[]string"
        description: –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º
        options:
          go_tags: envSeparator:";"  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ; –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è
        example: "tag1;tag2;tag3"

      - name: privateLabels
        type: "map[string]string"
        description: –ü–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏
        options:
          go_tags: envSeparator:";" envKeyValSeparator:"="  # –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏ –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
        example: "key1=value1;key2=value2"
  - name: Config
    fields:
      - name: ConfigPath
        type: string
        description: –ü—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É
        required: true
        options:
          go_env_options: file  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
        example: "/etc/app/config.json"
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```go
// Webserver
type Webserver struct {
  Config
  ApiKey        string            `env:"API_KEY,required,unset,notEmpty"`                        // API –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω –ø–æ—Å–ª–µ —á—Ç–µ–Ω–∏—è
  Tags          []string          `env:"TAGS" envSeparator:";"`                                  // –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º
  privateLabels map[string]string `env:"PRIVATE_LABELS" envSeparator:";" envKeyValSeparator:"="` // –ü–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏
}

// Config
type Config struct {
    ConfigPath string `env:"CONFIG_PATH,required,file"` // –ü—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É
}
```

### –û–ø—Ü–∏–∏ Markdown —à–∞–±–ª–æ–Ω–∞

–®–∞–±–ª–æ–Ω `markdown` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏:

```yaml
options:
  # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ markdown
  md_title: –ó–∞–≥–æ–ª–æ–≤–æ–∫ Markdown —Ñ–∞–π–ª–∞                # –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
  md_description: |                                 # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞
    –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  
  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ —Ç–∏–ø–æ–≤
  md_types_title: –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —Ç–∏–ø–æ–≤              # –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞ —Å —Ç–∏–ø–∞–º–∏
  md_types_description: |                          # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ —Ç–∏–ø–æ–≤
    –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Ç–∏–ø–æ–≤

  # –°–∫—Ä—ã—Ç–∏–µ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ –≥—Ä—É–ø–ø
  md_groups_hide_type: true        # –°–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Å —Ç–∏–ø–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
  md_groups_hide_required: true    # –°–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø–æ–ª—è
  md_groups_hide_default: true     # –°–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  md_groups_hide_example: true     # –°–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Å –ø—Ä–∏–º–µ—Ä–æ–º –∑–Ω–∞—á–µ–Ω–∏—è
  md_groups_hide_description: true # –°–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

  # –°–∫—Ä—ã—Ç–∏–µ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ —Ç–∏–ø–æ–≤
  md_types_hide_type: true        # –°–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Å —Ç–∏–ø–æ–º
  md_types_hide_import: true      # –°–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Å –ø—É—Ç–µ–º –∏–º–ø–æ—Ä—Ç–∞
  md_types_hide_description: true # –°–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–∏–ø–∞
  md_types_hide_values: true      # –°–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Å –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏


groups:
  - ...
    options:
      md_description: "–û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≥—Ä—É–ø–ø—ã"
    fields:
      - ...
        options:
          md_hide: true  # –°–∫—Ä—ã—Ç—å –ø–æ–ª–µ
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —Å—Ç–æ–ª–±—Ü—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è. –ß—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Å—Ç–æ–ª–±–µ—Ü, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –æ–ø—Ü–∏—é –≤ `true`. –°—Ç–æ–ª–±–µ—Ü `Name` –≤ —Ç–∞–±–ª–∏—Ü–µ —Ç–∏–ø–æ–≤ –≤—Å–µ–≥–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è.

### –û–ø—Ü–∏–∏ Example —à–∞–±–ª–æ–Ω–∞

–®–∞–±–ª–æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–∫–∏—Ö-–ª–∏–±–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –æ–ø—Ü–∏–π.

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
go test ./...
```

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ golden-—Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ —à–∞–±–ª–æ–Ω–æ–≤:
```bash
UPDATE_GOLDEN=1 go test ./templates_tests
```

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π —à–∞–±–ª–æ–Ω?

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —à–∞–±–ª–æ–Ω–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.tmpl` –∏–ª–∏ `.tpl`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Go templates –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ —à–∞–±–ª–æ–Ω–∞:

```go
// –§–∞–π–ª: custom.tmpl
{{- range $group := .Groups }}
# {{ $group.Description }}
{{- range $field := $group.Fields }}
{{ $field.Name | upper }}={{ $field.Default }}  # {{ $field.Description }}
{{- end }}

{{- end }}
```

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω:
```bash
envgen -c config.yaml -o custom.txt -t ./custom.tmpl
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
```ini
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
PORT=8080  # –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
HOST=localhost  # –•–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞
ENV=development  # –û–∫—Ä—É–∂–µ–Ω–∏–µ

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_HOST=localhost  # –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_PORT=5432  # –ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã?

1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ç–∏–ø –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```yaml
types:
  - name: CustomType
    type: your/pkg.Type
    import: your/pkg
```

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤ –ø–æ–ª—è—Ö:
```yaml
fields:
  - name: CustomField
    type: CustomType
```

### –ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —à–∞–±–ª–æ–Ω–∞—Ö?

–í —à–∞–±–ª–æ–Ω–∞—Ö –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏:
  - `title` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –±—É–∫–≤—ã –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
  - `upper` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
  - `lower` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
  - `camel` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ camelCase
  - `snake` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ snake_case
  - `kebab` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ kebab-case
  - `pascal` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ PascalCase
  - `append` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω–µ—Ü
  - `uniq` - —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  - `slice` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏
  - `contains` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–æ–¥—Å—Ç—Ä–æ–∫–∏
  - `hasPrefix` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ—Ñ–∏–∫—Å–∞
  - `hasSuffix` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—Ñ—Ñ–∏–∫—Å–∞
  - `replace` - –∑–∞–º–µ–Ω–∞ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏
  - `trim` - —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
  - `join` - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
  - `split` - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
  - `oneline` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
  - `isURL` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ URL

- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∏–ø–∞–º–∏:
  - `toString` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç—Ä–æ–∫—É
  - `toInt` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
  - `toBool` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  - `findType` - –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∏–ø–µ
  - `getImports` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤

- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º:
  - `now` - —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
  - `formatTime` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
  - `date` - —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ (–ì–ì–ì–ì-–ú–ú-–î–î)
  - `datetime` - —Ç–µ–∫—É—â–∏–µ –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è (–ì–ì–ì–ì-–ú–ú-–î–î –ß–ß:–ú–ú:–°–°)

- –£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
  - `default` - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  - `coalesce` - –ø–µ—Ä–≤–æ–µ –Ω–µ–ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  - `ternary` - —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä
  - `hasOption` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–ø—Ü–∏–∏
  - `hasGroupOption` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–ø—Ü–∏–∏ –≤ –≥—Ä—É–ø–ø–µ
  - `getOption` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–ø—Ü–∏–∏
  - `getGroupOption` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–ø—Ü–∏–∏ –∏–∑ –≥—Ä—É–ø–ø—ã
  - `processTemplate` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —à–∞–±–ª–æ–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—É—Ç—è–º–∏:
  - `pathDir` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏–∑ –ø—É—Ç–∏
  - `pathBase` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –∏–∑ –ø—É—Ç–∏
  - `pathExt` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–∞
  - `pathRel` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏
  - `getConfigPath` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - `getOutputPath` - –ø—É—Ç—å –∫ –≤—ã—Ö–æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É
  - `getTemplatePath` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —à–∞–±–ª–æ–Ω–∞

- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Go:
  - `goCommentGenerate` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è go:generate

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```go
{{ $name := "my_variable" }}
{{ $name | pascal }}  // –†–µ–∑—É–ª—å—Ç–∞—Ç: MyVariable
{{ $name | upper }}   // –†–µ–∑—É–ª—å—Ç–∞—Ç: MY_VARIABLE

{{ if hasOption "go_package" }}
package {{ getOption "go_package" }}
{{ end }}

// –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º
{{ datetime }}  // –†–µ–∑—É–ª—å—Ç–∞—Ç: 2024-03-21 15:04:05

// –£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
{{ $value := "test" | default "default_value" }}

// –†–∞–±–æ—Ç–∞ —Å –ø—É—Ç—è–º–∏
{{ pathBase "/path/to/file.txt" }}  // –†–µ–∑—É–ª—å—Ç–∞—Ç: file.txt

// –†–∞–±–æ—Ç–∞ —Å URL
{{ if isURL "https://github.com" }}
  // URL –≤–∞–ª–∏–¥–µ–Ω
{{ end }}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
{{ $text := "—Å—Ç—Ä–æ–∫–∞1\n—Å—Ç—Ä–æ–∫–∞2" | oneline }}  // –†–µ–∑—É–ª—å—Ç–∞—Ç: —Å—Ç—Ä–æ–∫–∞1 —Å—Ç—Ä–æ–∫–∞2
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT